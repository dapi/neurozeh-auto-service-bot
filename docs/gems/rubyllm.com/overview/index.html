<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="../assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="../assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(3) > li:not(:nth-child(2)) > a, .site-nav > ul:nth-of-type(3) > li > ul > li a { background-image: none; } .site-nav > ul:not(:nth-of-type(3)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(3) > li:nth-child(2) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(3) > li:nth-child(2) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(3) > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="../assets/js/vendor/lunr.min.js"></script> <script src="../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="../assets/images/logo.svg" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Overview | RubyLLM</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Overview" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Understand how RubyLLM works and how its components fit together" /> <meta property="og:description" content="Understand how RubyLLM works and how its components fit together" /> <link rel="canonical" href="index.html" /> <meta property="og:url" content="https://rubyllm.com/overview/" /> <meta property="og:site_name" content="RubyLLM" /> <meta property="og:image" content="https://rubyllm.com/assets/images/og/getting_started/overview.png" /> <meta property="og:image:height" content="600" /> <meta property="og:image:width" content="1200" /> <meta property="og:image:alt" content="Overview" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-10-22T09:47:33+00:00" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://rubyllm.com/assets/images/og/getting_started/overview.png" /> <meta name="twitter:image:alt" content="Overview" /> <meta property="twitter:title" content="Overview" /> <meta name="twitter:site" content="@paolino" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-22T09:47:33+00:00","datePublished":"2025-10-22T09:47:33+00:00","description":"Understand how RubyLLM works and how its components fit together","headline":"Overview","image":{"width":1200,"height":600,"alt":"Overview","url":"https://rubyllm.com/assets/images/og/getting_started/overview.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rubyllm.com/overview/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://rubyllm.com/assets/images/logotype.svg"}},"url":"https://rubyllm.com/overview/"}</script> <!-- End Jekyll SEO tag --> <!-- Auto Dark Mode - Must run immediately to prevent flash --> <script src="../assets/js/auto-dark-mode.js"></script> <link rel="icon" type="image/png" href="../assets/images/favicon/favicon-96x96.png" sizes="96x96" /> <link rel="icon" type="image/svg+xml" href="../assets/images/logo.svg" /> <link rel="shortcut icon" href="../assets/images/favicon/favicon.ico" /> <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/favicon/apple-touch-icon.png" /> <meta name="apple-mobile-web-app-title" content="RubyLLM" /> <link rel="manifest" href="../assets/images/favicon/site.webmanifest" /> <!-- Override Twitter card type to use large image --> <meta name="twitter:card" content="summary_large_image"> <script defer data-domain="rubyllm.com" src="https://stats.paolino.me/js/script.outbound-links.js"></script> </head> <body> <a class="skip-to-main" href="index.html#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="../index.html" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="RubyLLM"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../index.html" class="nav-list-link">Home</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/crmne/ruby_llm" class="nav-list-link external" > GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://github.com/crmne/ruby_llm/releases" class="nav-list-link external" > Changelog <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://paolino.me" class="nav-list-link external" > Blog <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> <div class="nav-category">Getting Started</div> <ul class="nav-list"><li class="nav-list-item"><a href="../getting-started/index.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="index.html" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="../configuration/index.html" class="nav-list-link">Configuration</a></li></ul> <div class="nav-category">Core Features</div> <ul class="nav-list"><li class="nav-list-item"><a href="../chat/index.html" class="nav-list-link">Chat</a></li><li class="nav-list-item"><a href="../tools/index.html" class="nav-list-link">Tools</a></li><li class="nav-list-item"><a href="../streaming/index.html" class="nav-list-link">Stream Responses</a></li><li class="nav-list-item"><a href="../embeddings/index.html" class="nav-list-link">Embeddings</a></li><li class="nav-list-item"><a href="../image-generation/index.html" class="nav-list-link">Image Generation</a></li><li class="nav-list-item"><a href="../audio-transcription/index.html" class="nav-list-link">Audio Transcription</a></li><li class="nav-list-item"><a href="../moderation/index.html" class="nav-list-link">Moderation</a></li></ul> <div class="nav-category">Advanced</div> <ul class="nav-list"><li class="nav-list-item"><a href="../rails/index.html" class="nav-list-link">Rails Integration</a></li><li class="nav-list-item"><a href="../async/index.html" class="nav-list-link">Scale with Async</a></li><li class="nav-list-item"><a href="../error-handling/index.html" class="nav-list-link">Error Handling</a></li><li class="nav-list-item"><a href="../models/index.html" class="nav-list-link">Model Registry</a></li><li class="nav-list-item"><a href="../agentic-workflows/index.html" class="nav-list-link">Agentic Workflows</a></li><li class="nav-list-item"><a href="../upgrading/index.html" class="nav-list-link">Upgrading</a></li></ul> <div class="nav-category">Reference</div> <ul class="nav-list"><li class="nav-list-item"><a href="../available-models/index.html" class="nav-list-link">Available Models</a></li><li class="nav-list-item"><a href="../ecosystem/index.html" class="nav-list-link">RubyLLM Ecosystem</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search RubyLLM" aria-label="Search RubyLLM" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="overview"> <a href="index.html#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview </h1> <p class="fs-6 fw-300">Understand how RubyLLM works and how its components fit together</p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="index.html#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="index.html#core-components" id="markdown-toc-core-components">Core Components</a> <ol> <li><a href="index.html#chat" id="markdown-toc-chat">Chat</a></li> <li><a href="index.html#messages" id="markdown-toc-messages">Messages</a></li> <li><a href="index.html#tools" id="markdown-toc-tools">Tools</a></li> <li><a href="index.html#providers" id="markdown-toc-providers">Providers</a></li> <li><a href="index.html#configuration" id="markdown-toc-configuration">Configuration</a></li> </ol> </li> <li><a href="index.html#design-principles" id="markdown-toc-design-principles">Design Principles</a> <ol> <li><a href="index.html#provider-agnostic" id="markdown-toc-provider-agnostic">Provider Agnostic</a></li> <li><a href="index.html#progressive-disclosure" id="markdown-toc-progressive-disclosure">Progressive Disclosure</a></li> <li><a href="index.html#ruby-conventions" id="markdown-toc-ruby-conventions">Ruby Conventions</a></li> <li><a href="index.html#minimal-dependencies" id="markdown-toc-minimal-dependencies">Minimal Dependencies</a></li> </ol> </li> <li><a href="index.html#how-providers-work" id="markdown-toc-how-providers-work">How Providers Work</a> <ol> <li><a href="index.html#provider-detection" id="markdown-toc-provider-detection">Provider Detection</a></li> <li><a href="index.html#capability-management" id="markdown-toc-capability-management">Capability Management</a></li> <li><a href="index.html#response-normalization" id="markdown-toc-response-normalization">Response Normalization</a></li> </ol> </li> <li><a href="index.html#rails-integration" id="markdown-toc-rails-integration">Rails Integration</a></li> <li><a href="index.html#next-steps" id="markdown-toc-next-steps">Next Steps</a></li> </ol><hr /> <p>After reading this guide, you will know:</p> <ul> <li>How RubyLLM provides a unified interface to multiple AI providers</li> <li>The core components and how they work together</li> <li>The design principles that guide the framework</li> <li>How providers are implemented and extended</li> <li>The role of configuration in managing complexity</li> </ul> <h2 id="core-components"> <a href="index.html#core-components" class="anchor-heading" aria-labelledby="core-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Core Components </h2> <p>RubyLLM consists of several core components that work together to provide its functionality. Understanding these components will help you use the framework more effectively.</p> <h3 id="chat"> <a href="index.html#chat" class="anchor-heading" aria-labelledby="chat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Chat </h3> <p>The Chat component is the primary interface for conversational AI. When you create a chat instance with <code class="language-plaintext highlighter-rouge">RubyLLM.chat</code>, you’re creating an object that manages a conversation with an AI model.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">chat</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">(</span><span class="ss">model: </span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>
</code></pre></div></div> <p>The chat object maintains conversation history, handles message formatting for the specific provider, and manages the request/response cycle. Each provider implements its own chat adapter that translates between RubyLLM’s unified format and the provider’s specific API requirements.</p> <h3 id="messages"> <a href="index.html#messages" class="anchor-heading" aria-labelledby="messages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Messages </h3> <p>Messages are the fundamental unit of conversation in RubyLLM. Each message has a role (user, assistant, system, or tool) and content (text, images, or other data). The framework automatically manages message history and formatting.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">chat</span><span class="p">.</span><span class="nf">ask</span><span class="p">(</span><span class="s2">"What is Ruby?"</span><span class="p">)</span>
<span class="c1"># Creates a user message, sends it, and returns an assistant message</span>
</code></pre></div></div> <p>Messages can include various types of content depending on the model’s capabilities. Vision-capable models can process images, while some models support audio or document analysis.</p> <h3 id="tools"> <a href="index.html#tools" class="anchor-heading" aria-labelledby="tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tools </h3> <p>Tools allow AI models to call Ruby code during conversations. This powerful feature enables AI assistants to perform calculations, fetch data, or interact with external systems.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Calculator</span> <span class="o">&lt;</span> <span class="no">RubyLLM</span><span class="o">::</span><span class="no">Tool</span>
  <span class="n">description</span> <span class="s2">"Performs basic arithmetic"</span>
  <span class="n">param</span> <span class="ss">:expression</span><span class="p">,</span> <span class="ss">desc: </span><span class="s2">"Mathematical expression to evaluate"</span>

  <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="n">expression</span><span class="p">:)</span>
    <span class="p">{</span> <span class="ss">result: </span><span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div> <p>When you provide tools to a chat, the AI model can decide when to use them based on the conversation context. The framework handles the complexity of tool calling protocols across different providers.</p> <h3 id="providers"> <a href="index.html#providers" class="anchor-heading" aria-labelledby="providers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Providers </h3> <p>Providers are the adapters that connect RubyLLM to specific AI services. Each provider implements the same interface but handles the unique requirements of its service - authentication, request formatting, response parsing, and streaming protocols.</p> <p>The provider system allows RubyLLM to support many different AI services while maintaining a consistent interface. Whether you’re using OpenAI, Anthropic, or a local model, your code stays the same. New providers can be added without changing the core framework.</p> <h3 id="configuration"> <a href="index.html#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h3> <p>Configuration in RubyLLM works at three levels: global defaults, isolated contexts for multi-tenancy, and instance-specific settings.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Global configuration - applies everywhere</span>
<span class="no">RubyLLM</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">openai_api_key</span> <span class="o">=</span> <span class="no">ENV</span><span class="p">[</span><span class="s2">"OPENAI_API_KEY"</span><span class="p">]</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">default_model</span> <span class="o">=</span> <span class="s2">"gpt-4.1-nano"</span>
<span class="k">end</span>

<span class="c1"># Context configuration - isolated scope</span>
<span class="n">context</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">context</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">openai_api_key</span> <span class="o">=</span> <span class="n">tenant</span><span class="p">.</span><span class="nf">api_key</span>  <span class="c1"># Different credentials</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">default_model</span> <span class="o">=</span> <span class="s2">"gpt-4.1"</span>         <span class="c1"># Different defaults</span>
<span class="k">end</span>
<span class="n">chat</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="nf">chat</span>  <span class="c1"># Uses context configuration</span>

<span class="c1"># Instance configuration - what you need right now</span>
<span class="n">chat</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">(</span><span class="ss">model: </span><span class="s2">"claude-opus-4"</span><span class="p">,</span> <span class="ss">temperature: </span><span class="mf">0.7</span><span class="p">)</span>
</code></pre></div></div> <p>This layered approach supports everything from simple scripts to complex multi-tenant applications.</p> <h2 id="design-principles"> <a href="index.html#design-principles" class="anchor-heading" aria-labelledby="design-principles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Design Principles </h2> <p>RubyLLM follows several key design principles that shape its architecture and API design.</p> <h3 id="provider-agnostic"> <a href="index.html#provider-agnostic" class="anchor-heading" aria-labelledby="provider-agnostic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provider Agnostic </h3> <p>The framework treats all AI providers equally. Whether you’re using OpenAI, Anthropic, or a local model through Ollama, the code looks the same. This principle extends to all features - chat, embeddings, image generation, and tools all work consistently across providers.</p> <h3 id="progressive-disclosure"> <a href="index.html#progressive-disclosure" class="anchor-heading" aria-labelledby="progressive-disclosure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Progressive Disclosure </h3> <p>Simple things should be simple, and complex things should be possible. Basic chat requires just one line of code, but the framework supports advanced features like streaming, tool calling, and structured output when you need them.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Simple</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">.</span><span class="nf">ask</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">)</span>

<span class="c1"># Advanced</span>
<span class="n">chat</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">(</span><span class="ss">model: </span><span class="s2">"gpt-4.1-nano"</span><span class="p">,</span> <span class="ss">temperature: </span><span class="mf">0.2</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">with_instructions</span><span class="p">(</span><span class="s2">"You are a helpful assistant"</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">with_tool</span><span class="p">(</span><span class="no">DatabaseQuery</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">with_schema</span><span class="p">(</span><span class="no">ResponseFormat</span><span class="p">)</span>
</code></pre></div></div> <h3 id="ruby-conventions"> <a href="index.html#ruby-conventions" class="anchor-heading" aria-labelledby="ruby-conventions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ruby Conventions </h3> <p>The framework follows Ruby idioms and conventions. Method names are descriptive, configuration uses blocks, and the API feels natural to Ruby developers. This extends to error handling, where provider-specific errors are wrapped in consistent RubyLLM exceptions.</p> <h3 id="minimal-dependencies"> <a href="index.html#minimal-dependencies" class="anchor-heading" aria-labelledby="minimal-dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Minimal Dependencies </h3> <p>RubyLLM depends only on essential gems: Faraday for HTTP, Zeitwerk for autoloading, and Marcel for file type detection. This keeps the framework lightweight and reduces potential conflicts in your application.</p> <h2 id="how-providers-work"> <a href="index.html#how-providers-work" class="anchor-heading" aria-labelledby="how-providers-work"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How Providers Work </h2> <p>Understanding how providers work helps you make better use of RubyLLM and even create custom providers if needed.</p> <h3 id="provider-detection"> <a href="index.html#provider-detection" class="anchor-heading" aria-labelledby="provider-detection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provider Detection </h3> <p>When you specify a model, RubyLLM automatically determines which provider to use. The framework maintains a registry of known models and their providers, but you can also explicitly specify providers or use custom endpoints.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Automatic detection</span>
<span class="n">chat</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">(</span><span class="ss">model: </span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>  <span class="c1"># Uses OpenAI</span>

<span class="c1"># Explicit provider</span>
<span class="n">chat</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">chat</span><span class="p">(</span>
  <span class="ss">model: </span><span class="s2">"llama-3"</span><span class="p">,</span>
  <span class="ss">provider: </span><span class="s2">"ollama"</span><span class="p">,</span>
  <span class="ss">base_url: </span><span class="s2">"http://localhost:11434"</span>
<span class="p">)</span>
</code></pre></div></div> <h3 id="capability-management"> <a href="index.html#capability-management" class="anchor-heading" aria-labelledby="capability-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Capability Management </h3> <p>Different models have different capabilities. Some support vision, others support tool calling, and some have specific context window sizes. RubyLLM tracks these capabilities and helps you use models appropriately.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model_info</span> <span class="o">=</span> <span class="no">RubyLLM</span><span class="p">.</span><span class="nf">models</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="s2">"gpt-4.1"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">model_info</span><span class="p">.</span><span class="nf">capabilities</span>
<span class="c1"># =&gt; [:chat, :vision, :tools, :json_mode]</span>
</code></pre></div></div> <h3 id="response-normalization"> <a href="index.html#response-normalization" class="anchor-heading" aria-labelledby="response-normalization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Normalization </h3> <p>Each provider returns responses in different formats. RubyLLM normalizes these into consistent response objects, so your code doesn’t need to handle provider-specific differences.</p> <h2 id="rails-integration"> <a href="index.html#rails-integration" class="anchor-heading" aria-labelledby="rails-integration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rails Integration </h2> <p>RubyLLM integrates deeply with Rails through ActiveRecord mixins and generators. The <code class="language-plaintext highlighter-rouge">acts_as_chat</code> and <code class="language-plaintext highlighter-rouge">acts_as_message</code> methods add AI capabilities to your models while following Rails conventions.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Conversation</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">acts_as_chat</span>
<span class="k">end</span>

<span class="c1"># Now your model can interact with AI</span>
<span class="n">conversation</span> <span class="o">=</span> <span class="no">Conversation</span><span class="p">.</span><span class="nf">create!</span><span class="p">(</span><span class="ss">model: </span><span class="s2">"gpt-4.1-nano"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">conversation</span><span class="p">.</span><span class="nf">ask</span><span class="p">(</span><span class="s2">"How can I help you today?"</span><span class="p">)</span>
</code></pre></div></div> <p>The Rails integration handles persistence, associations, and even real-time updates through Action Cable, making it easy to build AI-powered Rails applications.</p> <h2 id="next-steps"> <a href="index.html#next-steps" class="anchor-heading" aria-labelledby="next-steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Next Steps </h2> <p>Now that you understand how RubyLLM works, you’re ready to dive deeper into specific features. We recommend following this learning path:</p> <ol> <li>Complete the <a href="../getting-started/index.html">Getting Started</a> guide if you haven’t already</li> <li>Learn about <a href="../chat/index.html">Chatting with AI Models</a> for conversational features</li> <li>Explore <a href="../tools/index.html">Tools and Function Calling</a> to give AI access to your code</li> <li>For Rails developers, the <a href="../rails/index.html">Rails Integration</a> guide covers database persistence and real-time features</li> </ol> <p>Each guide builds on the concepts introduced here, gradually revealing more advanced features as you need them.</p> </main> <hr> <footer> Brought to you by <a href="https://paolino.me">Carmine Paolino</a>, maker of <a href="https://chatwithwork.com"><img src="https://chatwithwork.com/logotype.svg" alt="Chat with Work" class="chatwithwork-logo" style="height: 1.8em; vertical-align: middle; margin: 0 0.25em;"></a> <em style="font-size: 0.85em; opacity: 0.8;">— Claude Code for your documents</em> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
