# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

## –û–±–∑–æ—Ä

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞ "–ö—É–∑–Ω–∏–∫" –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –∞–¥—Ä–µ—Å–µ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –§–∞–π–ª —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ–º–ø–∞–Ω–∏–∏
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `config/company-info.md`
- **–§–æ—Ä–º–∞—Ç**: Markdown
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏ –≤–∫–ª—é—á–∞—è:
  - –ü–æ–ª–Ω–æ–µ –∏ –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
  - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∏ –ø–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å
  - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–µ–ª–µ—Ñ–æ–Ω, email)
  - –†–µ–∫–≤–∏–∑–∏—Ç—ã (–ò–ù–ù, –û–ì–†–ù, –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ)
  - –§–∏–∑–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä**: `company_info_path` –≤ `AppConfig`
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `'./config/company-info.md'`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**: `COMPANY_INFO_PATH` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

#### 3.1 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
–í —Ñ–∞–π–ª `config/system-prompt.md` –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é:

```markdown
## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏

–¢—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å "–ö—É–∑–Ω–∏–∫". –ò—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏:

[–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ company-info.md –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–æ —Å—é–¥–∞]

### –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏:
1. **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∞–¥—Ä–µ—Å–∞**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç—É
2. **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**: –£–∫–∞–∑—ã–≤–∞–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏ email –¥–ª—è —Å–≤—è–∑–∏
3. **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π –ø–æ–ª–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
4. **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã**: –ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (9:00-19:00 –±—É–¥–Ω–∏, 9:00-17:00 —Å—É–±–±–æ—Ç–∞)
```

#### 3.2 –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑–æ–≤—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ `company_info_path`
3. –ó–∞–º–µ–Ω–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `[COMPANY_INFO]` –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∫–æ–º–ø–∞–Ω–∏–∏
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å AI

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 4.1 –¢–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –æ –∫–æ–º–ø–∞–Ω–∏–∏:
- "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å?", "–ö–∞–∫–æ–π –∞–¥—Ä–µ—Å?", "–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è?"
- "–ö–∞–∫–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã?", "–ö–∞–∫ –ø–æ–∑–≤–æ–Ω–∏—Ç—å?"
- "–ö–∞–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã?", "–ò–ù–ù/–û–ì–†–ù"
- "–ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?", "–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã"
- "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –∫–æ–º–ø–∞–Ω–∏–∏"

#### 4.2 –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–≤–µ—Ç–æ–≤:
1. **–ê–¥—Ä–µ—Å**: –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç—É
2. **–ö–æ–Ω—Ç–∞–∫—Ç—ã**: –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω +7(902)240-70-00, email Kuznikpaint@yandex.ru
3. **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã**: –ü–Ω-–ü—Ç: 9:00-19:00, –°–±: 9:00-17:00, –í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π
4. **–†–µ–∫–≤–∏–∑–∏—Ç—ã**: –¢–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É, –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ AppConfig
```ruby
# –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
attr_config :company_info_path: './config/company-info.md'

# –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
on_load :validate_company_info_file

def validate_company_info_file
  path = company_info_path
  raise ArgumentError, "Company info file not found: #{path}" unless File.exist?(path)
  raise ArgumentError, "Company info file not readable: #{path}" unless File.readable?(path)
end
```

### 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ–º–ø–∞–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≤—Å—Ç–∞–≤–∫–∏

### 3. –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–º–ø—Ç–∞
–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞:
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
2. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏
3. –°–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
4. –ü–µ—Ä–µ–¥–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –≤ AI –∫–ª–∏–µ–Ω—Ç

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –§–∏–∫—Å—Ç—É—Ä—ã
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `config/company-info.md` –≤ `test/fixtures/company-info.md`

### 2. –¢–µ—Å—Ç-–∫–µ–π—Å—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –≤—Å—Ç–∞–≤–∫–∏ –≤ –ø—Ä–æ–º–ø—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –æ–± –∞–¥—Ä–µ—Å–µ/–∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö

### 3. –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤
```ruby
def test_company_info_loading
  info = load_company_info('./test/fixtures/company-info.md')
  assert_includes info, "–ê–≤—Ç–æ-–°–µ—Ä–≤–∏—Å –ö—É–∑–Ω–∏–∫"
  assert_includes info, "+79022407000"
end

def test_system_prompt_with_company_info
  prompt = build_system_prompt_with_company_info
  assert_includes prompt, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏"
  assert_includes prompt, "–≥. –ß–µ–±–æ–∫—Å–∞—Ä—ã, –Ø–¥—Ä–∏–Ω—Å–∫–æ–µ —à., 3"
end
```

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –§–∞–π–ª `company-info.md` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞ –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `COMPANY_INFO_PATH`: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ–º–ø–∞–Ω–∏–∏
- –ü—Ä–∏–º–µ—Ä: `COMPANY_INFO_PATH=./config/my-company.md ruby bot.rb`

## –ü–æ—Ä—è–¥–æ–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `config/company-info.md`
2. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `test/fixtures/`
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `AppConfig`
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
5. üîÑ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
6. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
7. üîÑ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
8. üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª
- –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–±–æ—á–µ–π
- –¢–µ–ª–µ—Ñ–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤