# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–æ–∫ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RubyLLM Tool

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –∑–∞—è–≤–æ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã RubyLLM Tools. –ò–ò —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —è–≤–ª—è–µ—Ç—Å—è –∑–∞—è–≤–∫–æ–π –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π tool.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ RubyLLM Tool System

### 1. Custom Tool: RequestDetector

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∏—Å—Ç–µ–º—ã - Tool, –∫–æ—Ç–æ—Ä—ã–π –ò–ò –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–æ–∫:

```ruby
class RequestDetector < RubyLLM::Tool
  description "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞—è–≤–∫–æ–π –Ω–∞ —É—Å–ª—É–≥—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç"

  param :message_text, desc: "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞"
  param :user_id, desc: "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram", type: :integer
  param :username, desc: "Username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", required: false
  param :first_name, desc: "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", required: false
  param :conversation_context, desc: "–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è)", required: false

  def initialize(config, logger)
    @config = config
    @logger = logger
  end

  def execute(message_text:, user_id:, username: nil, first_name: nil, conversation_context: nil)
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    return { error: "Admin chat not configured" } unless @config.admin_chat_id

    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞—è–≤–∫—É
    request_info = analyze_request(message_text, conversation_context)

    if request_info[:is_request]
      send_to_admin_chat(request_info, user_id, username, first_name)
      return {
        success: true,
        request_type: request_info[:type],
        message: "–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É"
      }
    else
      return {
        success: false,
        reason: "–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞—è–≤–∫–æ–π"
      }
    end
  rescue StandardError => e
    @logger.error "Error in RequestDetector: #{e.message}"
    { error: e.message }
  end
end
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ LLMClient

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è LLMClient –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Tool system:

```ruby
class LLMClient
  def send_message(messages, user_info = nil)
    chat = RubyLLM.chat model: @config.llm_model, provider: @config.llm_provider.to_sym, assume_model_exists: true
    chat.with_instructions(build_combined_system_prompt, replace: true)

    # –î–æ–±–∞–≤–ª—è–µ–º tool –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω admin_chat_id –∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    if user_info && @config.admin_chat_id
      request_detector = RequestDetector.new(@config, @logger)
      chat.with_tool(request_detector)

      # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ tool
      chat.on_tool_call do |tool_call|
        @logger.info "AI detected request - calling tool: #{tool_call.name}"
      end

      chat.on_tool_result do |result|
        @logger.info "Request processed: #{result}"
      end
    end

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    response = chat.ask(last_message[:content])
    response.content
  end
end
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞

–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∑–∞—è–≤–æ–∫:

```markdown
## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–æ–∫

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ä–∞–∂–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Å–ª—É–≥–∞–º–∏ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞, –∏—Å–ø–æ–ª—å–∑—É–π tool RequestDetector –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç.

### –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RequestDetector:

1. **–ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–ø–∏—Å—å:**
   - "–∑–∞–ø–∏—Å–∞—Ç—å", "–∑–∞–ø–∏—Å—å", "–∑–∞–ø–∏—Å–∞—Ç—å—Å—è"
   - "—Ö–æ—á—É –Ω–∞ —Å–µ—Ä–≤–∏—Å", "–Ω—É–∂–µ–Ω —Å–µ—Ä–≤–∏—Å"
   - "–∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–∏–µ—Ö–∞—Ç—å"

2. **–ó–∞–ø—Ä–æ—Å—ã —Å—Ç–æ–∏–º–æ—Å—Ç–∏:**
   - "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç", "—Ü–µ–Ω–∞", "—Å—Ç–æ–∏–º–æ—Å—Ç—å"
   - "—Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏", "—Å–º–µ—Ç–∞"

3. **–ó–∞–ø—Ä–æ—Å—ã —É—Å–ª—É–≥:**
   - "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–ø—Ä–æ–≤–µ—Ä–∏—Ç—å", "–æ—Å–º–æ—Ç—Ä"
   - "—Ä–µ–º–æ–Ω—Ç", "–¢–û", "–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ"
   - "–∑–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞", "—Ç–æ—Ä–º–æ–∑–∞"

4. **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
   - –î–ª–∏–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ–± —É—Å–ª—É–≥–∞—Ö
   - –ó–∞–ø—Ä–æ—Å—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ä–µ–º–æ–Ω—Ç—É

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –£—á–∏—Ç—ã–≤–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
3. –ï—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Å–ª—É–≥–æ–π - –≤—ã–∑—ã–≤–∞–π RequestDetector
4. –ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –æ–±—ã—á–Ω–æ

**–í–∞–∂–Ω–æ:** –ù–µ –≤—ã–∑—ã–≤–∞–π RequestDetector –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π, –ø—Ä–æ—â–∞–Ω–∏–π –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—â–µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞.
```

### 4. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è TelegramBotHandler

```ruby
def process_message(message, bot)
  # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ ...

  # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  user_info = {
    id: user_id,
    username: message.from.username,
    first_name: message.from.first_name
  }

  # –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ AI —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  response = @ai_client.send_message(history, user_info)

  # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
end
```

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**AppConfig:**
```ruby
class AppConfig < Anyway::Config
  attr_config :admin_chat_id: nil

  coerce_types admin_chat_id: :integer
  # –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç –≤–Ω—É—Ç—Ä–∏ RequestDetector
end
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä—è–º–∞—è –∑–∞—è–≤–∫–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø–æ–¥–≤–µ—Å–∫–∏

–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç RequestDetector
RequestDetector –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç
–ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: "–û—Ç–ª–∏—á–Ω–æ! –Ø –æ—Ç–ø—Ä–∞–≤–∏–ª –≤–∞—à—É –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –ö–æ–≥–¥–∞ –≤–∞–º —É–¥–æ–±–Ω–æ –ø—Ä–∏–µ—Ö–∞—Ç—å?"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–ø—Ä–æ—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –∑–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞?

–ò–ò –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç RequestDetector
–í –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç —É—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–æ—Å–µ —Ü–µ–Ω—ã
–ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç: "–ó–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞ —Å—Ç–æ–∏—Ç X —Ä—É–±–ª–µ–π. –•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è?"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –¥–∏–∞–ª–æ–≥

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü—Ä–∏–≤–µ—Ç!
–ò–ò: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –£ –º–µ–Ω—è —á—Ç–æ-—Ç–æ —Å—Ç—É—á–∏—Ç –≤ –ø–µ—Ä–µ–¥–Ω–µ–π –ø–æ–¥–≤–µ—Å–∫–µ
–ò–ò –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç RequestDetector
–ò–ò: –ü–æ–Ω–∏–º–∞—é, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–≤–µ—Å–∫—É. –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –≠—Ç–æ –Ω–∞ –∫–∞–∫–æ–π –º–∞—à–∏–Ω–µ?
```

## –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç

```
üîî **–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê**

üë§ **–ö–ª–∏–µ–Ω—Ç:** –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (@ivanov) - 123456789
üìã **–¢–∏–ø:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
‚è∞ **–í—Ä–µ–º—è:** 2024-01-15 14:30

üí¨ **–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –ø–æ–¥–≤–µ—Å–∫–∏

üîó **–î–µ–π—Å—Ç–≤–∏—è:**
/answer_123456789 - –û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É
/close_123456789 - –ó–∞–∫—Ä—ã—Ç—å –∑–∞—è–≤–∫—É
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ —Å RubyLLM Tool

1. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** - –ò–ò —Å–∞–º —Ä–µ—à–∞–µ—Ç –∫–æ–≥–¥–∞ —ç—Ç–æ –∑–∞—è–≤–∫–∞
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Å—å –¥–∏–∞–ª–æ–≥, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. **–ì–∏–±–∫–æ—Å—Ç—å** - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∑–∞—è–≤–æ–∫
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏
6. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ tools (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ CRM)

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```ruby
# –í LLMClient
chat.on_tool_call do |tool_call|
  @logger.info "üîî REQUEST DETECTED: User #{tool_call.arguments[:user_id]} - #{tool_call.arguments[:message_text][0..50]}..."
end

chat.on_tool_result do |result|
  if result[:success]
    @logger.info "‚úÖ REQUEST SENT: #{result[:request_type]}"
  else
    @logger.warn "‚ùå REQUEST REJECTED: #{result[:reason]}"
  end
end
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ admin_chat_id** - Tool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É, –ò–ò –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–∏–∞–ª–æ–≥
2. **–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram** - –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è, –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
3. **–ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - Tool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã –¥–ª—è RequestDetector:
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–∫–∏
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å RubyLLM Tool system
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç

---

# –ü–ª–∞–Ω –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏

## –≠—Ç–∞–ø 1: –ò–∑—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)

### 1.1. –ì–ª—É–±–æ–∫–æ–µ –∏–∑—É—á–µ–Ω–∏–µ RubyLLM Tool System
- **–ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é RubyLLM Tools** –¥–µ—Ç–∞–ª—å–Ω–æ
- **–ü–æ–Ω—è—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º callback'–æ–≤** (`on_tool_call`, `on_tool_result`)
- **–ò–∑—É—á–∏—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ tools
- **–ü–æ–Ω—è—Ç—å –∫–∞–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç** –≤ tools
- **–ò–∑—É—á–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã tools —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

### 1.2. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- **–ò–∑—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É LLMClient** –∏ –µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å RubyLLM
- **–ü–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç** –∏ –∫–∞–∫ –µ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å
- **–ò–∑—É—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π** –≤ ConversationManager
- **–ü–æ–Ω—è—Ç—å –∫–∞–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ —Å–∏—Å—Ç–µ–º–µ

### 1.3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π admin_chat_id** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã tools
- **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Telegram –±–æ—Ç–∞** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ RequestDetector Tool (2-3 –¥–Ω—è)

### 2.1. –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```ruby
# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ lib/request_detector.rb
class RequestDetector < RubyLLM::Tool
  description "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞—è–≤–∫–æ–π –Ω–∞ —É—Å–ª—É–≥—É"

  param :message_text, desc: "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞"
  param :user_id, desc: "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", type: :integer
  # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
end
```

### 2.2. –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤** –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** –¥–∏–∞–ª–æ–≥–∞
- **–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫** (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, —Ä–µ–º–æ–Ω—Ç, –¢–û, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è)
- **–î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏

### 2.3. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç
- **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- **–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ Telegram API**
- **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏**

### 2.4. Unit —Ç–µ—Å—Ç—ã
- **–¢–µ—Å—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫**
- **–¢–µ—Å—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π**
- **–¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**
- **–ú–æ–∫-—Ç–µ—Å—Ç—ã –¥–ª—è Telegram API**

## –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLMClient (2 –¥–Ω—è)

### 3.1. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è LLMClient
- **–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä user_info** –≤ –º–µ—Ç–æ–¥ send_message
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å RequestDetector** –≤ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —á–∞—Ç–∞
- **–î–æ–±–∞–≤–∏—Ç—å callback'–∏** –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ tools
- **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ tool

### 3.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- **–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é RequestDetector
- **–û–ø–∏—Å–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã** –¥–ª—è –≤—ã–∑–æ–≤–∞ tool
- **–û–±—ä—è—Å–Ω–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã** –ò–ò

### 3.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **–¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞** –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–¢–µ—Å—Ç—ã –≤—ã–∑–æ–≤–∞ RequestDetector** –∏–∑ LLMClient
- **–¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**

## –≠—Ç–∞–ø 4: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è TelegramBotHandler (1 –¥–µ–Ω—å)

### 4.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- **–°–æ–±—Ä–∞—Ç—å user_info** –∏–∑ –æ–±—ä–µ–∫—Ç–∞ message
- **–ü–µ—Ä–µ–¥–∞—Ç—å user_info** –≤ LLMClient
- **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** —Ä–∞–±–æ—Ç—ã tools

### 4.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–¢–µ—Å—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö** –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏** —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–∂–∏–º–µ polling –∏ webhook

## –≠—Ç–∞–ø 5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (1 –¥–µ–Ω—å)

### 5.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–î–æ–±–∞–≤–∏—Ç—å admin_chat_id** –≤ AppConfig
- **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è production
- **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### 5.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging
- **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ Telegram API
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**

## –≠—Ç–∞–ø 6: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞ (1-2 –¥–Ω—è)

### 6.1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—ã–∑–æ–≤–æ–≤ RequestDetector
- **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏** –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –∑–∞—è–≤–∫–∞–º
- **–°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 6.2. –û—Ç–ª–∞–¥–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ê–Ω–∞–ª–∏–∑ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π** –∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞** –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤**

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- [ ] RequestDetector –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞—è–≤–∫–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç
- [ ] –ò–ò –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —É—Ö—É–¥—à–∞–µ—Ç—Å—è
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ polling –∏ webhook —Ä–µ–∂–∏–º–∞—Ö
- [ ] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- [ ] –û–ø–∏—Å–∞–Ω—ã –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏

### –†–∏—Å–∫ 1: –ò–ò —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç RequestDetector –ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–∞

### –†–∏—Å–∫ 2: RubyLLM Tools –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –Ω–∞ –≠—Ç–∞–ø–µ 1

### –†–∏—Å–∫ 3: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –≠—Ç–∞–ø–µ 6

### –†–∏—Å–∫ 4: –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ —Ä–∞–±–æ—Ç—ã tools
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞

## –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Å—Ä–æ–∫–æ–≤: **7-10 –¥–Ω–µ–π**

–ö–ª—é—á–µ–≤–æ–π —Ñ–∞–∫—Ç–æ—Ä —É—Å–ø–µ—Ö–∞ - –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ RubyLLM Tool System –Ω–∞ –≠—Ç–∞–ø–µ 1, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö.